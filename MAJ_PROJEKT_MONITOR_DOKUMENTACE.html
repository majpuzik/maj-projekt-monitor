<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAJ-PROJEKT-MONITOR - Projektov√° Dokumentace</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 60px 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 3em;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .header .subtitle {
            font-size: 1.3em;
            opacity: 0.95;
        }

        .version-badge {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 8px 20px;
            border-radius: 20px;
            margin-top: 15px;
            font-size: 0.9em;
        }

        .nav {
            background: #f8f9fa;
            padding: 20px 40px;
            border-bottom: 3px solid #667eea;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav ul {
            list-style: none;
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
        }

        .nav a {
            color: #667eea;
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s;
        }

        .nav a:hover {
            color: #764ba2;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 60px;
        }

        .section h2 {
            color: #667eea;
            font-size: 2.2em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }

        .section h3 {
            color: #764ba2;
            font-size: 1.6em;
            margin: 30px 0 15px 0;
        }

        .diagram-container {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 10px;
            margin: 30px 0;
            border: 2px solid #e5e7eb;
        }

        .diagram-title {
            font-size: 1.3em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 20px;
            text-align: center;
        }

        .mermaid {
            text-align: center;
        }

        .info-box {
            background: #e0e7ff;
            border-left: 5px solid #667eea;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .warning-box {
            background: #fef3c7;
            border-left: 5px solid #f59e0b;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .success-box {
            background: #d1fae5;
            border-left: 5px solid #10b981;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        table th {
            background: #667eea;
            color: white;
            padding: 15px;
            text-align: left;
        }

        table td {
            padding: 12px 15px;
            border-bottom: 1px solid #e5e7eb;
        }

        table tr:hover {
            background: #f8f9fa;
        }

        .component-card {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .component-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 12px rgba(0,0,0,0.15);
        }

        .component-card h4 {
            color: #667eea;
            font-size: 1.4em;
            margin-bottom: 10px;
        }

        .component-card .badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.85em;
            font-weight: bold;
            margin-right: 8px;
        }

        .badge-core { background: #dbeafe; color: #1e40af; }
        .badge-bot { background: #fce7f3; color: #831843; }
        .badge-web { background: #d1fae5; color: #065f46; }
        .badge-script { background: #fef3c7; color: #92400e; }

        code {
            background: #f3f4f6;
            padding: 3px 8px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #667eea;
        }

        pre {
            background: #1f2937;
            color: #f9fafb;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
        }

        .stat-card .number {
            font-size: 3em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .stat-card .label {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .tooltip {
            position: relative;
            display: inline-block;
            cursor: help;
            border-bottom: 2px dotted #667eea;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 300px;
            background-color: #1f2937;
            color: #fff;
            text-align: left;
            border-radius: 8px;
            padding: 15px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -150px;
            opacity: 0;
            transition: opacity 0.3s;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        footer {
            background: #1f2937;
            color: white;
            text-align: center;
            padding: 30px;
            margin-top: 60px;
        }

        @media print {
            .nav { display: none; }
            body { background: white; }
            .container { box-shadow: none; }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>ü§ñ MAJ-PROJEKT-MONITOR</h1>
            <p class="subtitle">Comprehensive Project Lifecycle Management System</p>
            <div class="version-badge">Version 1.0.0 | 2025-12-03</div>
        </div>

        <!-- Navigation -->
        <div class="nav">
            <ul>
                <li><a href="#prehled">P≈ôehled</a></li>
                <li><a href="#architektura">Architektura</a></li>
                <li><a href="#sit">S√≠≈•ov√° Instalace</a></li>
                <li><a href="#dataflow">Data Flow</a></li>
                <li><a href="#komponenty">Komponenty</a></li>
                <li><a href="#databaze">Datab√°ze</a></li>
                <li><a href="#api">API</a></li>
                <li><a href="#instalace">Instalace</a></li>
            </ul>
        </div>

        <!-- Content -->
        <div class="content">

            <!-- Section: P≈ôehled -->
            <div class="section" id="prehled">
                <h2>üìã P≈ôehled Projektu</h2>

                <div class="info-box">
                    <strong>MAJ-PROJEKT-MONITOR</strong> je komplexn√≠ automatizovan√Ω syst√©m pro spr√°vu
                    cel√©ho ≈æivotn√≠ho cyklu softwarov√Ωch projekt≈Ø - od zrozen√≠ (pl√°nov√°n√≠) a≈æ po produkci
                    a n√°slednou √∫dr≈æbu.
                </div>

                <div class="grid">
                    <div class="stat-card">
                        <div class="number">4</div>
                        <div class="label">Hlavn√≠ Komponenty</div>
                    </div>
                    <div class="stat-card">
                        <div class="number">9</div>
                        <div class="label">Datab√°zov√Ωch Tabulek</div>
                    </div>
                    <div class="stat-card">
                        <div class="number">7</div>
                        <div class="label">≈Ωivotn√≠ch F√°z√≠</div>
                    </div>
                    <div class="stat-card">
                        <div class="number">100%</div>
                        <div class="label">C√≠lov√© Kvality</div>
                    </div>
                </div>

                <h3>Kl√≠ƒçov√© Funkce</h3>
                <table>
                    <tr>
                        <th>Funkce</th>
                        <th>Popis</th>
                        <th>Frekvence</th>
                    </tr>
                    <tr>
                        <td>üîç Automatick√° Anal√Ωza</td>
                        <td>Vyhodnocen√≠ stavu projektu, kvality, test≈Ø</td>
                        <td>Ka≈ædou hodinu</td>
                    </tr>
                    <tr>
                        <td>üß™ Test Management</td>
                        <td>Spou≈°tƒõn√≠ a vyhodnocen√≠ test≈Ø</td>
                        <td>Ka≈æd√Ωch 30 minut</td>
                    </tr>
                    <tr>
                        <td>üìä Quality Scoring</td>
                        <td>Bodov√°n√≠ kvality (0-100%)</td>
                        <td>Ka≈æd√© 2 hodiny</td>
                    </tr>
                    <tr>
                        <td>üîÑ Phase Management</td>
                        <td>Automatick√© p≈ôechody mezi f√°zemi</td>
                        <td>Dle podm√≠nek</td>
                    </tr>
                    <tr>
                        <td>üìà Real-time Monitoring</td>
                        <td>≈Ωiv√© sledov√°n√≠ pr≈Øbƒõhu</td>
                        <td>Ka≈æd√Ωch 5 sekund</td>
                    </tr>
                </table>
            </div>

            <!-- Section: Architektura -->
            <div class="section" id="architektura">
                <h2>üèóÔ∏è Architektura Syst√©mu</h2>

                <div class="diagram-container">
                    <div class="diagram-title">Celkov√° Architektura</div>
                    <div class="mermaid">
graph TB
    subgraph "Presentation Layer"
        GUI[Web GUI Dashboard<br/>Port 5050]
        CLI[CLI Interface<br/>Command Line]
    end

    subgraph "Application Layer"
        CORE[Core System<br/>maj-projekt-monitor.py]
        BOT[Autonomous Bot<br/>maj-projekt-monitor-bot.py]
        WEB[Web Server<br/>maj-projekt-monitor-web.py]
    end

    subgraph "Data Layer"
        CDB[(Central Database<br/>SQLite CDB)]
        FILES[Project Files<br/>Git Repos]
    end

    subgraph "External Systems"
        GITHUB[GitHub<br/>Repositories]
        CLAUDE[Claude CLI<br/>Integration]
    end

    GUI --> WEB
    CLI --> CORE
    WEB --> CORE
    BOT --> CORE
    CORE --> CDB
    BOT --> FILES
    CORE --> FILES
    CORE --> GITHUB
    CLAUDE --> CDB

    style GUI fill:#d1fae5
    style WEB fill:#fce7f3
    style CORE fill:#dbeafe
    style BOT fill:#fef3c7
    style CDB fill:#e0e7ff
                    </div>
                </div>

                <div class="diagram-container">
                    <div class="diagram-title">Struktura Komponent</div>
                    <div class="mermaid">
classDiagram
    class ProjectMonitor {
        +create_new_project()
        +scan_project_files()
        +run_analysis()
        +get_project_status()
    }

    class ProjectDatabase {
        +create_project()
        +add_program()
        +add_test()
        +add_todo()
        +add_quality_score()
    }

    class ProjectBot {
        +hourly_analysis()
        +run_project_tests()
        +assess_quality()
        +check_phase_transition()
    }

    class WebServer {
        +get_projects()
        +get_project_detail()
        +real_time_updates()
    }

    ProjectMonitor --> ProjectDatabase
    ProjectBot --> ProjectMonitor
    WebServer --> ProjectMonitor
                    </div>
                </div>

                <h3>Vrstvov√° Architektura</h3>
                <div class="component-card">
                    <h4>Presentation Layer (Prezentaƒçn√≠ vrstva)</h4>
                    <span class="badge badge-web">Web GUI</span>
                    <span class="badge badge-script">CLI</span>
                    <p>Zodpovƒõdn√° za interakci s u≈æivatelem. Obsahuje web dashboard (Flask)
                    a command-line interface pro p≈ô√≠m√© ovl√°d√°n√≠.</p>
                </div>

                <div class="component-card">
                    <h4>Application Layer (Aplikaƒçn√≠ vrstva)</h4>
                    <span class="badge badge-core">Core</span>
                    <span class="badge badge-bot">Bot</span>
                    <span class="badge badge-web">Web Server</span>
                    <p>Hlavn√≠ business logika syst√©mu. Core poskytuje API, Bot ≈ô√≠d√≠ automatizaci,
                    Web Server zaji≈°≈•uje real-time komunikaci.</p>
                </div>

                <div class="component-card">
                    <h4>Data Layer (Datov√° vrstva)</h4>
                    <span class="badge badge-core">CDB</span>
                    <span class="badge badge-core">Files</span>
                    <p>Persistence dat v centr√°ln√≠ SQLite datab√°zi a p≈ô√≠m√Ω p≈ô√≠stup k projektov√Ωm soubor≈Øm.</p>
                </div>
            </div>

            <!-- Section: S√≠≈•ov√° Instalace -->
            <div class="section" id="sit">
                <h2>üåê S√≠≈•ov√° Instalace</h2>

                <div class="diagram-container">
                    <div class="diagram-title">Topologie S√≠tƒõ - DGX Deployment</div>
                    <div class="mermaid">
graph LR
    subgraph "Internal Network 192.168.10.0/24"
        DGX[DGX Workstation<br/>192.168.10.200<br/>MAJ-PROJEKT-MONITOR]
        NAS5[Synology NAS5<br/>192.168.10.35<br/>Backup Storage]
        MAC1[Mac Mini M4<br/>192.168.10.69<br/>Development]
        MAC2[MacBook Pro<br/>192.168.10.68<br/>Testing]
        ROUTER[UniFi Router<br/>192.168.10.1<br/>Gateway]
    end

    subgraph "External"
        GITHUB[GitHub<br/>Repositories]
        INTERNET[Internet]
    end

    USER[User Browser<br/>Any Device] -->|HTTP:5050| DGX
    DGX -->|WebSocket| USER
    DGX -->|NFS/SMB| NAS5
    DGX -->|SSH/rsync| MAC1
    DGX -->|SSH/rsync| MAC2
    DGX -->|Port 80/443| ROUTER
    ROUTER -->|NAT| INTERNET
    DGX <-->|Git| GITHUB

    style DGX fill:#667eea,color:#fff
    style USER fill:#10b981,color:#fff
    style NAS5 fill:#f59e0b
    style GITHUB fill:#764ba2,color:#fff
                    </div>
                </div>

                <h3>Port Mapping</h3>
                <table>
                    <tr>
                        <th>Service</th>
                        <th>Port</th>
                        <th>Protocol</th>
                        <th>Popis</th>
                    </tr>
                    <tr>
                        <td>Web Dashboard</td>
                        <td>5050</td>
                        <td>HTTP/WebSocket</td>
                        <td>Hlavn√≠ GUI interface</td>
                    </tr>
                    <tr>
                        <td>CDB SQLite</td>
                        <td>File System</td>
                        <td>Local</td>
                        <td>/home/puzik/almquist-central-log/almquist.db</td>
                    </tr>
                    <tr>
                        <td>NAS5 NFS</td>
                        <td>2049</td>
                        <td>NFS</td>
                        <td>Backup storage</td>
                    </tr>
                    <tr>
                        <td>SSH</td>
                        <td>22</td>
                        <td>SSH</td>
                        <td>Remote management</td>
                    </tr>
                </table>

                <div class="warning-box">
                    <strong>‚ö†Ô∏è Bezpeƒçnost:</strong> Web dashboard bƒõ≈æ√≠ bez autentizace a je urƒçen pouze
                    pro lok√°ln√≠ s√≠≈•. Pro produkƒçn√≠ nasazen√≠ implementujte HTTPS a autentizaci.
                </div>
            </div>

            <!-- Section: Data Flow -->
            <div class="section" id="dataflow">
                <h2>üîÑ Data Flow Diagramy</h2>

                <div class="diagram-container">
                    <div class="diagram-title">Tok Dat - Project Creation</div>
                    <div class="mermaid">
sequenceDiagram
    participant U as User
    participant CLI as CLI/Web GUI
    participant CORE as Core System
    participant DB as CDB Database
    participant FS as File System
    participant GIT as GitHub

    U->>CLI: create_project(name, path, ...)
    CLI->>CORE: ProjectMonitor.create_new_project()
    CORE->>DB: INSERT INTO projects
    DB-->>CORE: project_id
    CORE->>DB: INSERT INTO events (project_created)
    CORE->>DB: INSERT INTO project_todos (initial task)
    CORE-->>CLI: project_id
    CLI->>U: ‚úì Project created

    U->>CLI: scan_project(project_id)
    CLI->>CORE: scan_project_files()
    CORE->>FS: Read project directory
    FS-->>CORE: File list
    loop For each file
        CORE->>FS: Read file metadata
        CORE->>GIT: git log (optional)
        CORE->>DB: INSERT INTO project_programs
    end
    CORE-->>CLI: ‚úì Scan complete
    CLI->>U: X programs registered
                    </div>
                </div>

                <div class="diagram-container">
                    <div class="diagram-title">Tok Dat - Autonomous Bot Analysis</div>
                    <div class="mermaid">
sequenceDiagram
    participant SCHED as Scheduler (hourly)
    participant BOT as Project Bot
    participant CORE as Core System
    participant DB as CDB Database
    participant FS as File System
    participant WS as WebSocket

    SCHED->>BOT: Trigger hourly_analysis()
    BOT->>DB: SELECT active projects
    DB-->>BOT: project_ids[]

    loop For each project
        BOT->>CORE: run_analysis(project_id)
        CORE->>DB: Get TODOs
        CORE->>DB: Get Tests
        CORE->>DB: Get Quality Scores
        CORE-->>BOT: AnalysisResult

        BOT->>BOT: Calculate metrics
        BOT->>DB: INSERT INTO project_analysis

        alt Quality threshold met
            BOT->>CORE: update_project_phase()
            CORE->>DB: UPDATE projects SET phase
            BOT->>CORE: create_phase_todos()
            CORE->>DB: INSERT INTO project_todos
        end

        BOT->>WS: Emit project_update event
        WS-->>Browser: Real-time update
    end
                    </div>
                </div>

                <div class="diagram-container">
                    <div class="diagram-title">Tok Dat - Test Execution</div>
                    <div class="mermaid">
graph TD
    START[Test Trigger] --> CHECK{Project Path Exists?}
    CHECK -->|Yes| PYTEST{pytest found?}
    CHECK -->|No| END[Skip]

    PYTEST -->|Yes| RUN_PYTEST[Run pytest]
    PYTEST -->|No| NPM{npm test?}

    NPM -->|Yes| RUN_NPM[Run npm test]
    NPM -->|No| END

    RUN_PYTEST --> PARSE_PY[Parse Results]
    RUN_NPM --> PARSE_NPM[Parse Results]

    PARSE_PY --> RECORD[Record to CDB]
    PARSE_NPM --> RECORD

    RECORD --> LOG[Log Results]
    LOG --> NOTIFY{Tests Failed?}

    NOTIFY -->|Yes| ALERT[Send Alert]
    NOTIFY -->|No| SUCCESS[Update Quality Score]

    ALERT --> UPDATE[Update Analysis]
    SUCCESS --> UPDATE
    UPDATE --> END

    style START fill:#10b981
    style END fill:#667eea
    style ALERT fill:#ef4444,color:#fff
    style SUCCESS fill:#10b981,color:#fff
                    </div>
                </div>

                <h3>Data Flow Patterns</h3>

                <div class="component-card">
                    <h4>1. Event-Driven Updates</h4>
                    <p><strong>Pattern:</strong>
                    <span class="tooltip">Event Source<span class="tooltiptext">
                        Bot nebo User action vytvo≈ô√≠ ud√°lost (test complete, phase change)
                    </span></span> ‚Üí
                    <span class="tooltip">CDB Events<span class="tooltiptext">
                        Ud√°lost se zaznamen√° do tabulky events s metadata
                    </span></span> ‚Üí
                    <span class="tooltip">WebSocket<span class="tooltiptext">
                        Real-time notifikace v≈°em p≈ôipojen√Ωm klient≈Øm
                    </span></span> ‚Üí
                    <span class="tooltip">GUI Update<span class="tooltiptext">
                        Dashboard se automaticky aktualizuje bez refresh
                    </span></span>
                    </p>
                </div>

                <div class="component-card">
                    <h4>2. Scheduled Analysis</h4>
                    <p><strong>Pattern:</strong>
                    <span class="tooltip">Scheduler<span class="tooltiptext">
                        Python schedule library - ka≈ædou hodinu
                    </span></span> ‚Üí
                    <span class="tooltip">Bot Analysis<span class="tooltiptext">
                        Bot projde v≈°echny aktivn√≠ projekty
                    </span></span> ‚Üí
                    <span class="tooltip">Quality Calculation<span class="tooltiptext">
                        Vypoƒç√≠t√° code quality, test coverage, documentation, security
                    </span></span> ‚Üí
                    <span class="tooltip">CDB Storage<span class="tooltiptext">
                        Ulo≈æ√≠ v√Ωsledky do project_analysis tabulky
                    </span></span> ‚Üí
                    <span class="tooltip">Recommendations<span class="tooltiptext">
                        Generuje doporuƒçen√≠ pro zlep≈°en√≠
                    </span></span>
                    </p>
                </div>

                <div class="component-card">
                    <h4>3. Phase Transitions</h4>
                    <p><strong>Pattern:</strong>
                    <span class="tooltip">Analysis Check<span class="tooltiptext">
                        Kontrola splnƒõn√≠ po≈æadavk≈Ø pro danou f√°zi
                    </span></span> ‚Üí
                    <span class="tooltip">Quality Validation<span class="tooltiptext">
                        Mus√≠ b√Ωt splnƒõno: quality ‚â• threshold, v≈°echny TODO done, 0 failed tests
                    </span></span> ‚Üí
                    <span class="tooltip">Phase Update<span class="tooltiptext">
                        UPDATE projects SET phase = next_phase
                    </span></span> ‚Üí
                    <span class="tooltip">Create TODOs<span class="tooltiptext">
                        Automatick√© vytvo≈ôen√≠ TODO √∫kol≈Ø pro novou f√°zi
                    </span></span> ‚Üí
                    <span class="tooltip">Event Log<span class="tooltiptext">
                        Zaznamen√° phase_changed do events
                    </span></span>
                    </p>
                </div>
            </div>

            <!-- Section: Komponenty -->
            <div class="section" id="komponenty">
                <h2>‚öôÔ∏è Popis Komponent</h2>

                <h3>1. Core System (maj-projekt-monitor.py)</h3>
                <div class="component-card">
                    <span class="badge badge-core">CORE</span>
                    <span class="badge" style="background:#e0e7ff;color:#3730a3;">2,874 lines</span>
                    <h4>Hlavn√≠ Komponenta Syst√©mu</h4>

                    <p><strong>Zodpovƒõdnosti:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>‚úÖ Datab√°zov√© operace (CRUD)</li>
                        <li>‚úÖ Project lifecycle management</li>
                        <li>‚úÖ File scanning & metadata extraction</li>
                        <li>‚úÖ Git integration</li>
                        <li>‚úÖ Analysis execution</li>
                        <li>‚úÖ CLI interface</li>
                    </ul>

                    <p style="margin-top: 15px;"><strong>Kl√≠ƒçov√© T≈ô√≠dy:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><code>ProjectDatabase</code> - Database operations</li>
                        <li><code>ProjectMonitor</code> - Main business logic</li>
                        <li><code>Project, ProjectProgram, ProjectTest, ProjectTodo</code> - Data models</li>
                    </ul>

                    <p style="margin-top: 15px;"><strong>API P≈ô√≠kazy:</strong></p>
                    <pre style="font-size: 0.9em;">python3 maj-projekt-monitor.py create "Name" /path
python3 maj-projekt-monitor.py scan PROJECT_ID
python3 maj-projekt-monitor.py analyze PROJECT_ID
python3 maj-projekt-monitor.py status PROJECT_ID</pre>
                </div>

                <h3>2. Autonomous Bot (maj-projekt-monitor-bot.py)</h3>
                <div class="component-card">
                    <span class="badge badge-bot">BOT</span>
                    <span class="badge" style="background:#fce7f3;color:#831843;">1,156 lines</span>
                    <h4>Automatizaƒçn√≠ Agent</h4>

                    <p><strong>Zodpovƒõdnosti:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>‚è∞ Hodinov√° anal√Ωza v≈°ech projekt≈Ø</li>
                        <li>üß™ Automatick√© spou≈°tƒõn√≠ test≈Ø (ka≈æd√Ωch 30 min)</li>
                        <li>üìè Hodnocen√≠ kvality k√≥du (ka≈æd√© 2 hodiny)</li>
                        <li>üîÑ Automatick√© f√°zov√© p≈ôechody</li>
                        <li>üîß Pokusy o auto-fix bƒõ≈æn√Ωch probl√©m≈Ø</li>
                        <li>üìä Generov√°n√≠ report≈Ø</li>
                    </ul>

                    <p style="margin-top: 15px;"><strong>Scheduling:</strong></p>
                    <table>
                        <tr>
                            <th>Task</th>
                            <th>Interval</th>
                            <th>Function</th>
                        </tr>
                        <tr>
                            <td>Project Analysis</td>
                            <td>60 min</td>
                            <td><code>hourly_analysis()</code></td>
                        </tr>
                        <tr>
                            <td>Test Execution</td>
                            <td>30 min</td>
                            <td><code>run_project_tests()</code></td>
                        </tr>
                        <tr>
                            <td>Quality Assessment</td>
                            <td>120 min</td>
                            <td><code>assess_quality()</code></td>
                        </tr>
                        <tr>
                            <td>Status Report</td>
                            <td>60 min</td>
                            <td><code>generate_status_report()</code></td>
                        </tr>
                    </table>

                    <p style="margin-top: 15px;"><strong>Pou≈æit√≠:</strong></p>
                    <pre style="font-size: 0.9em;">python3 maj-projekt-monitor-bot.py              # Run forever
python3 maj-projekt-monitor-bot.py --once       # Run once
python3 maj-projekt-monitor-bot.py --analyze 1  # Analyze project 1</pre>
                </div>

                <h3>3. Web Dashboard (maj-projekt-monitor-web.py)</h3>
                <div class="component-card">
                    <span class="badge badge-web">WEB</span>
                    <span class="badge" style="background:#d1fae5;color:#065f46;">751 lines</span>
                    <h4>Real-time GUI Dashboard</h4>

                    <p><strong>Zodpovƒõdnosti:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>üåê Flask web server (port 5050)</li>
                        <li>üîå WebSocket real-time komunikace</li>
                        <li>üìä Interaktivn√≠ grafy (Chart.js)</li>
                        <li>üé® Responsive UI design</li>
                        <li>üî¥üü°üü¢ Color-coded status indicators</li>
                        <li>üì° Background update thread (ka≈æd√Ωch 5 sec)</li>
                    </ul>

                    <p style="margin-top: 15px;"><strong>REST API Endpoints:</strong></p>
                    <table>
                        <tr>
                            <th>Endpoint</th>
                            <th>Method</th>
                            <th>Popis</th>
                        </tr>
                        <tr>
                            <td><code>/api/projects</code></td>
                            <td>GET</td>
                            <td>V≈°echny projekty</td>
                        </tr>
                        <tr>
                            <td><code>/api/project/&lt;id&gt;</code></td>
                            <td>GET</td>
                            <td>Detail projektu</td>
                        </tr>
                        <tr>
                            <td><code>/api/project/&lt;id&gt;/analysis</code></td>
                            <td>GET</td>
                            <td>Historie anal√Ωz</td>
                        </tr>
                        <tr>
                            <td><code>/api/project/&lt;id&gt;/quality</code></td>
                            <td>GET</td>
                            <td>Quality metrics</td>
                        </tr>
                        <tr>
                            <td><code>/api/overview</code></td>
                            <td>GET</td>
                            <td>System overview</td>
                        </tr>
                    </table>

                    <p style="margin-top: 15px;"><strong>Spu≈°tƒõn√≠:</strong></p>
                    <pre style="font-size: 0.9em;">python3 maj-projekt-monitor-web.py
# Dashboard: http://192.168.10.200:5050</pre>
                </div>

                <h3>4. Control Script (maj-projekt-monitor-control.sh)</h3>
                <div class="component-card">
                    <span class="badge badge-script">SCRIPT</span>
                    <span class="badge" style="background:#fef3c7;color:#92400e;">Bash</span>
                    <h4>Spr√°va Slu≈æeb</h4>

                    <p><strong>P≈ô√≠kazy:</strong></p>
                    <table>
                        <tr>
                            <th>Command</th>
                            <th>Popis</th>
                        </tr>
                        <tr>
                            <td><code>start</code></td>
                            <td>Start bot + web dashboard</td>
                        </tr>
                        <tr>
                            <td><code>stop</code></td>
                            <td>Stop v≈°echny slu≈æby</td>
                        </tr>
                        <tr>
                            <td><code>restart</code></td>
                            <td>Restart slu≈æeb</td>
                        </tr>
                        <tr>
                            <td><code>status</code></td>
                            <td>Zobrazit status</td>
                        </tr>
                        <tr>
                            <td><code>bot</code></td>
                            <td>Start pouze bot</td>
                        </tr>
                        <tr>
                            <td><code>web</code></td>
                            <td>Start pouze web</td>
                        </tr>
                        <tr>
                            <td><code>create</code></td>
                            <td>Vytvo≈ôen√≠ projektu (wizard)</td>
                        </tr>
                        <tr>
                            <td><code>logs</code></td>
                            <td>Sledov√°n√≠ log≈Ø</td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- Section: Datab√°ze -->
            <div class="section" id="databaze">
                <h2>üóÑÔ∏è Datab√°zov√° Struktura</h2>

                <div class="diagram-container">
                    <div class="diagram-title">Entity Relationship Diagram</div>
                    <div class="mermaid">
erDiagram
    PROJECTS ||--o{ PROJECT_PROGRAMS : contains
    PROJECTS ||--o{ PROJECT_TESTS : has
    PROJECTS ||--o{ PROJECT_TODOS : tracks
    PROJECTS ||--o{ PROJECT_QUALITY_SCORES : evaluated
    PROJECTS ||--o{ PROJECT_ANALYSIS : analyzed
    PROJECTS ||--o{ PROJECT_DEPLOYMENTS : deployed
    PROJECTS ||--o{ PROJECT_SECURITY_TESTS : secured
    PROJECTS ||--o{ PROJECT_GIT_COMMITS : versioned
    PROJECT_PROGRAMS ||--o{ PROJECT_TESTS : tested

    PROJECTS {
        int id PK
        string name UK
        string description
        string phase
        datetime created_at
        datetime updated_at
        string github_repo
        string local_path
        string customer
        string environment
        float quality_score
        string status
    }

    PROJECT_PROGRAMS {
        int id PK
        int project_id FK
        string name
        string path
        string language
        int lines_of_code
        float complexity_score
        datetime last_modified
        string git_hash
    }

    PROJECT_TESTS {
        int id PK
        int project_id FK
        int program_id FK
        string test_name
        string test_type
        string status
        datetime started_at
        datetime completed_at
        float duration_seconds
        string error_message
        float coverage_percent
    }

    PROJECT_TODOS {
        int id PK
        int project_id FK
        string task
        string status
        int priority
        datetime created_at
        datetime updated_at
        datetime completed_at
        string assigned_to
    }
                    </div>
                </div>

                <div class="success-box">
                    <strong>‚úì Database Engine:</strong> SQLite 3<br>
                    <strong>‚úì Location:</strong> /home/puzik/almquist-central-log/almquist.db<br>
                    <strong>‚úì Size:</strong> ~4.8 MB (s MAJ-PROJEKT-MONITOR daty)<br>
                    <strong>‚úì Tables:</strong> 9 hlavn√≠ch + 1 events (sd√≠len√°)
                </div>

                <h3>Tabulky v Detailu</h3>

                <div class="component-card">
                    <h4>projects - Hlavn√≠ Projektov√° Tabulka</h4>
                    <table>
                        <tr>
                            <th>Sloupec</th>
                            <th>Typ</th>
                            <th>Popis</th>
                        </tr>
                        <tr>
                            <td>id</td>
                            <td>INTEGER</td>
                            <td>Primary key, auto-increment</td>
                        </tr>
                        <tr>
                            <td>name</td>
                            <td>TEXT UNIQUE</td>
                            <td>N√°zev projektu (unik√°tn√≠)</td>
                        </tr>
                        <tr>
                            <td>phase</td>
                            <td>TEXT</td>
                            <td>planning|design|development|testing|review|deployment|production</td>
                        </tr>
                        <tr>
                            <td>quality_score</td>
                            <td>REAL</td>
                            <td>0.0 - 100.0 (pr≈Ømƒõr v≈°ech metrik)</td>
                        </tr>
                        <tr>
                            <td>customer</td>
                            <td>TEXT</td>
                            <td>Jm√©no z√°kazn√≠ka/klienta</td>
                        </tr>
                        <tr>
                            <td>environment</td>
                            <td>TEXT</td>
                            <td>development|staging|production</td>
                        </tr>
                    </table>
                </div>

                <div class="component-card">
                    <h4>project_analysis - Hodinov√© Anal√Ωzy</h4>
                    <p>Ukl√°d√° v√Ωsledky ka≈æd√© automatick√© anal√Ωzy projektu. Bot zapisuje z√°znam ka≈ædou hodinu.</p>
                    <table>
                        <tr>
                            <th>Sloupec</th>
                            <th>V√Ωznam</th>
                        </tr>
                        <tr>
                            <td>todos_completed</td>
                            <td>Poƒçet dokonƒçen√Ωch √∫kol≈Ø</td>
                        </tr>
                        <tr>
                            <td>todos_remaining</td>
                            <td>Poƒçet zb√Ωvaj√≠c√≠ch √∫kol≈Ø</td>
                        </tr>
                        <tr>
                            <td>tests_passed</td>
                            <td>Poƒçet √∫spƒõ≈°n√Ωch test≈Ø</td>
                        </tr>
                        <tr>
                            <td>tests_failed</td>
                            <td>Poƒçet ne√∫spƒõ≈°n√Ωch test≈Ø</td>
                        </tr>
                        <tr>
                            <td>progress_percent</td>
                            <td>Celkov√Ω progress (0-100%)</td>
                        </tr>
                        <tr>
                            <td>recommendations</td>
                            <td>JSON array doporuƒçen√≠ pro zlep≈°en√≠</td>
                        </tr>
                    </table>
                </div>
            </div>

            <!-- Section: API -->
            <div class="section" id="api">
                <h2>üîå API Reference</h2>

                <div class="diagram-container">
                    <div class="diagram-title">API Request Flow</div>
                    <div class="mermaid">
sequenceDiagram
    participant C as Client (Browser)
    participant F as Flask Server
    participant M as ProjectMonitor
    participant D as Database
    participant W as WebSocket

    Note over C,W: REST API Request
    C->>F: GET /api/project/1
    F->>M: get_project_status(1)
    M->>D: SELECT * FROM projects WHERE id=1
    M->>D: SELECT * FROM project_programs WHERE project_id=1
    M->>D: SELECT * FROM project_tests WHERE project_id=1
    M->>D: SELECT * FROM project_todos WHERE project_id=1
    D-->>M: Results
    M-->>F: JSON status
    F-->>C: HTTP 200 + JSON

    Note over C,W: WebSocket Real-time Update
    loop Every 5 seconds
        F->>M: get_all_project_statuses()
        M->>D: SELECT queries
        D-->>M: Data
        M-->>F: Projects data
        F->>W: Emit 'project_update'
        W-->>C: Push update to browser
    end
                    </div>
                </div>

                <h3>REST Endpoints Detail</h3>

                <div class="component-card">
                    <h4>GET /api/projects</h4>
                    <p><strong>Popis:</strong> Z√≠sk√° seznam v≈°ech aktivn√≠ch projekt≈Ø</p>
                    <pre style="font-size: 0.9em;">curl http://192.168.10.200:5050/api/projects</pre>
                    <p><strong>Response:</strong></p>
                    <pre style="font-size: 0.85em;">{
  "projects": [
    {
      "id": 1,
      "name": "MAJ-PROJEKT-MONITOR",
      "phase": "planning",
      "quality_score": 33.6,
      "customer": "Maj",
      "environment": "development",
      "created_at": "2025-12-03T18:30:00",
      "updated_at": "2025-12-03T18:47:00"
    }
  ]
}</pre>
                </div>

                <div class="component-card">
                    <h4>GET /api/project/&lt;id&gt;</h4>
                    <p><strong>Popis:</strong> Kompletn√≠ detail projektu vƒçetnƒõ program≈Ø, test≈Ø, TODOs</p>
                    <pre style="font-size: 0.9em;">curl http://192.168.10.200:5050/api/project/1</pre>
                    <p><strong>Response Structure:</strong></p>
                    <ul style="margin-left: 20px;">
                        <li><code>project</code> - Z√°kladn√≠ info</li>
                        <li><code>programs[]</code> - List v≈°ech program≈Ø/soubor≈Ø</li>
                        <li><code>tests[]</code> - Historie test≈Ø</li>
                        <li><code>todos[]</code> - TODO √∫koly</li>
                        <li><code>quality_scores[]</code> - Quality metrics</li>
                        <li><code>recent_analyses[]</code> - Posledn√≠ anal√Ωzy</li>
                    </ul>
                </div>

                <div class="component-card">
                    <h4>GET /api/project/&lt;id&gt;/analysis?hours=24</h4>
                    <p><strong>Popis:</strong> Historie anal√Ωz za posledn√≠ch N hodin</p>
                    <p><strong>Parameters:</strong></p>
                    <ul style="margin-left: 20px;">
                        <li><code>hours</code> (optional) - Poƒçet hodin zpƒõt (default: 24)</li>
                    </ul>
                    <pre style="font-size: 0.9em;">curl http://192.168.10.200:5050/api/project/1/analysis?hours=48</pre>
                </div>

                <h3>WebSocket Events</h3>

                <table>
                    <tr>
                        <th>Event</th>
                        <th>Direction</th>
                        <th>Payload</th>
                        <th>Popis</th>
                    </tr>
                    <tr>
                        <td><code>connect</code></td>
                        <td>Server ‚Üí Client</td>
                        <td><code>{message}</code></td>
                        <td>Potvrzen√≠ p≈ôipojen√≠</td>
                    </tr>
                    <tr>
                        <td><code>project_update</code></td>
                        <td>Server ‚Üí Client</td>
                        <td><code>{projects[], timestamp}</code></td>
                        <td>Real-time aktualizace (ka≈æd√Ωch 5 sec)</td>
                    </tr>
                    <tr>
                        <td><code>analyze_project</code></td>
                        <td>Client ‚Üí Server</td>
                        <td><code>{project_id}</code></td>
                        <td>Spustit anal√Ωzu projektu</td>
                    </tr>
                    <tr>
                        <td><code>analysis_complete</code></td>
                        <td>Server ‚Üí Client</td>
                        <td><code>{project_id, analysis}</code></td>
                        <td>Anal√Ωza dokonƒçena</td>
                    </tr>
                </table>
            </div>

            <!-- Section: Instalace -->
            <div class="section" id="instalace">
                <h2>üì¶ Instalace a Deployment</h2>

                <div class="diagram-container">
                    <div class="diagram-title">Installation Flow</div>
                    <div class="mermaid">
graph TD
    START[Start Installation] --> CHECK_PYTHON{Python 3.8+?}
    CHECK_PYTHON -->|No| INSTALL_PYTHON[Install Python]
    CHECK_PYTHON -->|Yes| INSTALL_DEPS
    INSTALL_PYTHON --> INSTALL_DEPS[pip3 install dependencies]

    INSTALL_DEPS --> DOWNLOAD[Download Scripts]
    DOWNLOAD --> CHMOD[chmod +x control script]
    CHMOD --> INIT_DB[Initialize Database]

    INIT_DB --> CREATE_PROJ[Create First Project]
    CREATE_PROJ --> START_WEB[Start Web Dashboard]
    START_WEB --> START_BOT[Start Bot]

    START_BOT --> VERIFY{Services Running?}
    VERIFY -->|No| DEBUG[Check Logs]
    VERIFY -->|Yes| OPEN_GUI[Open GUI in Browser]

    DEBUG --> FIX[Fix Issues]
    FIX --> START_WEB

    OPEN_GUI --> DONE[‚úì Installation Complete]

    style START fill:#10b981,color:#fff
    style DONE fill:#667eea,color:#fff
    style DEBUG fill:#ef4444,color:#fff
                    </div>
                </div>

                <h3>Krok za Krokem</h3>

                <div class="component-card">
                    <h4>1. Po≈æadavky</h4>
                    <pre>Python 3.8 or higher
SQLite3
Git (optional, pro GitHub integraci)</pre>
                </div>

                <div class="component-card">
                    <h4>2. Instalace Dependenc√≠</h4>
                    <pre>pip3 install flask flask-socketio schedule psutil</pre>
                </div>

                <div class="component-card">
                    <h4>3. Download & Setup</h4>
                    <pre># Files jsou u≈æ na DGX v /home/puzik/
cd /home/puzik
chmod +x maj-projekt-monitor-control.sh

# Inicializace datab√°ze
python3 maj-projekt-monitor.py</pre>
                </div>

                <div class="component-card">
                    <h4>4. Prvn√≠ Spu≈°tƒõn√≠</h4>
                    <pre># Start v≈°ech slu≈æeb
./maj-projekt-monitor-control.sh start

# Nebo individu√°lnƒõ:
./maj-projekt-monitor-control.sh bot  # Pouze bot
./maj-projekt-monitor-control.sh web  # Pouze web</pre>
                </div>

                <div class="component-card">
                    <h4>5. Vytvo≈ôen√≠ Projektu</h4>
                    <pre># Interaktivnƒõ
./maj-projekt-monitor-control.sh create

# Nebo CLI
python3 maj-projekt-monitor.py create "My Project" /path/to/project \
    --description "Project description" \
    --customer "Customer Name"</pre>
                </div>

                <div class="component-card">
                    <h4>6. Systemd Service (Optional)</h4>
                    <p>Pro automatick√© spu≈°tƒõn√≠ p≈ôi boot:</p>
                    <pre>sudo tee /etc/systemd/system/maj-projekt-monitor.service &lt;&lt; EOF
[Unit]
Description=MAJ-PROJEKT-MONITOR
After=network.target

[Service]
Type=forking
User=puzik
WorkingDirectory=/home/puzik
ExecStart=/home/puzik/maj-projekt-monitor-control.sh start
ExecStop=/home/puzik/maj-projekt-monitor-control.sh stop
Restart=on-failure

[Install]
WantedBy=multi-user.target
EOF

sudo systemctl enable maj-projekt-monitor
sudo systemctl start maj-projekt-monitor</pre>
                </div>

                <h3>Verifikace Instalace</h3>

                <div class="success-box">
                    <strong>‚úì Kontroln√≠ Seznam:</strong>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>[ ] Python 3.8+ nainstalov√°n</li>
                        <li>[ ] Dependencies nainstalov√°ny (flask, etc.)</li>
                        <li>[ ] Datab√°ze inicializov√°na</li>
                        <li>[ ] Bot bƒõ≈æ√≠ (check: <code>ps aux | grep maj-projekt-monitor-bot</code>)</li>
                        <li>[ ] Web dashboard bƒõ≈æ√≠ (check: <code>ss -tulpn | grep 5050</code>)</li>
                        <li>[ ] GUI dostupn√© na http://192.168.10.200:5050</li>
                        <li>[ ] Prvn√≠ projekt vytvo≈ôen</li>
                    </ul>
                </div>

                <div class="warning-box">
                    <strong>‚ö†Ô∏è Troubleshooting:</strong>
                    <pre># Check status
./maj-projekt-monitor-control.sh status

# View logs
tail -f ~/logs/maj-projekt-monitor-bot.log
tail -f ~/logs/maj-projekt-monitor-web.log

# Restart services
./maj-projekt-monitor-control.sh restart</pre>
                </div>
            </div>

        </div>

        <!-- Footer -->
        <footer>
            <p><strong>MAJ-PROJEKT-MONITOR</strong> v1.0.0</p>
            <p>Created by Claude + Maj | 2025-12-03</p>
            <p>Comprehensive Project Lifecycle Management System</p>
            <p style="margin-top: 15px; opacity: 0.8;">
                DGX Workstation | 192.168.10.200 | Port 5050
            </p>
        </footer>
    </div>

    <script>
        // Initialize Mermaid
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#667eea',
                primaryTextColor: '#fff',
                primaryBorderColor: '#764ba2',
                lineColor: '#764ba2',
                secondaryColor: '#d1fae5',
                tertiaryColor: '#fef3c7'
            }
        });

        // Smooth scroll
        document.querySelectorAll('.nav a').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                target.scrollIntoView({ behavior: 'smooth', block: 'start' });
            });
        });

        // Print stats
        console.log('%cü§ñ MAJ-PROJEKT-MONITOR Documentation', 'color: #667eea; font-size: 20px; font-weight: bold;');
        console.log('%cVersion 1.0.0 | Created: 2025-12-03', 'color: #764ba2; font-size: 14px;');
    </script>
</body>
</html>
